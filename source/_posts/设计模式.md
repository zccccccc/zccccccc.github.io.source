---
title: 设计模式
date: 2017-02-15 10:04:34
tags: java
layout: design
slug: java-design
---


###设计模式
设计模式，不管看了多少遍，只要不实践，过段时间就会忘记，小弟打算搞个模式教程，
不忙的时候大家可以来喷一下
下面有请主角‘小明’
 
 
[工厂模式](#工厂模式)
 
[抽象工厂模式](#抽象工厂模式)

[单例模式](#单例模式)
 


#####<A NAME="工厂模式">工厂模式</a>



<blockquote>
<p>栗子之小明找女友.</p>
<p>小明需要找个充气女友使用</p>
<p>下面使用工厂模式，生产出不同国家的女朋友</p>
</blockquote>

<!--lang: java-->
```
/**
 *  
 *
 */
public class FactoryPattern {


    public static void main(String[] arg){
        FactoryPattern factoryPattern = new FactoryPattern();

        AerateGirl aerateGirl = factoryPattern.get("F");
        aerateGirl.use();

        aerateGirl = factoryPattern.get("J");
        aerateGirl.use();
    }

    public AerateGirl get(String use){
        if(use == null){
            return null;
        }
        if(use.equalsIgnoreCase("J")){
            return new Japan();
        } else if(use.equalsIgnoreCase("F")){
            return new France();
        }
        return null;
    }

}

//充气菇凉
interface AerateGirl {
    void use();
}

//日本充气菇凉
class Japan implements AerateGirl {
    @Override
    public void use() {
        System.out.println("日本菇凉");
    }
}

//法国充气菇凉
class France implements AerateGirl {
    @Override
    public void use() {
        System.out.println("法国菇凉");
    }
}


``` 

#####<A NAME="抽象工厂模式">抽象工厂模式</a>
 
 <blockquote>
<p>栗子之小明找女友2.</p>
<p>小明对买来的充气女友不太满意，决定自己生产</p>
<p>下面使用抽象工厂模式生产女朋友</p>
</blockquote>
 
```


/**
 * Created by zhangchao on 2/17/17.
 */
public class AbstractFactoryPattern {


    public static void main(String args[]){
        AbstractFactoryPattern abstractFactoryPattern = new AbstractFactoryPattern();
        abstractFactoryPattern.demo();
    }


    public void demo() {


        FactoryProducer producer = new FactoryProducer();
        AbstractFactory abstractFactory = producer.getFactory("J");

        AerateGirl aerateGirl = new GeneratorGirl(abstractFactory);
        aerateGirl.use();

        abstractFactory = producer.getFactory("F");
        aerateGirl = new GeneratorGirl(abstractFactory);
        aerateGirl.use();


    }


    public abstract class AerateGirl {

        Hand hand;
        Foot foot;
        Body body;
        Clothing clothing;

        abstract void use();


    }

    //工厂算选择
    public class FactoryProducer {

        AbstractFactory abstractFactory;

        public AbstractFactory getFactory(String use) {
            if (use.equalsIgnoreCase("F")) {
                abstractFactory = new FranceFactory();
            } else if (use.equalsIgnoreCase("J")) {
                abstractFactory = new JapanFactory();

            }
            return abstractFactory;
        }
    }

    //生产娃娃
    class GeneratorGirl extends AerateGirl {
        AbstractFactory abstractFactory;

        //准备要生产充气娃娃啦
        public GeneratorGirl(AbstractFactory abstractFactory) {
            this.abstractFactory = abstractFactory;
        }

        @Override
        void use() {

            hand = abstractFactory.getHand();
            foot = abstractFactory.getFoot();
            body = abstractFactory.getBody();
            clothing = abstractFactory.getClothing();
            System.out.println(body.get() +"&&&&&"+ foot.get() +"&&&&&"+ hand.get()  +"&&&&&"+ clothing.get());
        }


    }


    /***
     * 进一步实现充气娃娃
     * 在工厂模式中,我们直接使用 AerateGirl 来返回不同国家的对象
     * <p>
     * 她的构成需要不同的组件
     * 手,脚,头,身体,衣服
     */
    interface AbstractFactory {

        Hand getHand();

        Foot getFoot();

        Body getBody();

        Clothing getClothing();


    }

    /**
     * 日本工厂生产
     */
    class JapanFactory implements AbstractFactory {

        @Override
        public Hand getHand() {
            return new JapanHand();
        }

        @Override
        public Foot getFoot() {
            return new JapanFoot();
        }

        @Override
        public Body getBody() {
            return new JapanBody();
        }

        @Override
        public Clothing getClothing() {
            return new JapanClothing();
        }
    }

    /**
     * 日本工厂生产
     */
    class FranceFactory implements AbstractFactory {

        @Override
        public Hand getHand() {
            return new FranceHand();
        }

        @Override
        public Foot getFoot() {
            return new FranceFoot();
        }

        @Override
        public Body getBody() {
            return new FranceBody();
        }

        @Override
        public Clothing getClothing() {
            return new FranceClothing();
        }
    }


    interface Hand {
        String get();
    }

    class JapanHand implements Hand {
        @Override
        public String get() {
            return "日本--组件--手";
        }
    }

    class FranceHand implements Hand {
        @Override
        public String get() {
            return "法国--组件--手";
        }
    }


    interface Foot {
        String get();
    }


    class JapanFoot implements Foot {
        @Override
        public String get() {
            return "日本--组件--脚";
        }
    }

    class FranceFoot implements Foot {
        @Override
        public String get() {
            return "法国--组件--脚";
        }
    }


    interface Body {
        String get();
    }


    class JapanBody implements Body {
        @Override
        public String get() {
            return "日本--组件--身体";
        }
    }

    class FranceBody implements Body {
        @Override
        public String get() {
            return "法国--组件--身体";
        }
    }

    interface Clothing {
        String get();
    }

    class JapanClothing implements Clothing {
        @Override
        public String get() {
            return "日本--组件--衣服";
        }
    }

    class FranceClothing implements Clothing {
        @Override
        public String get() {
            return "法国--组件--衣服";
        }
    }

}



``` 
 
 

#####<A NAME="单例模式">单例模式</a>
 
