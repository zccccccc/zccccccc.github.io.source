{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"themes/clean-blog/source/css/article.styl","path":"css/article.styl","modified":1,"renderable":1},{"_id":"themes/clean-blog/source/css/mixins.styl","path":"css/mixins.styl","modified":1,"renderable":1},{"_id":"themes/clean-blog/source/css/base.styl","path":"css/base.styl","modified":1,"renderable":1},{"_id":"themes/clean-blog/source/css/style.styl","path":"css/style.styl","modified":1,"renderable":1},{"_id":"themes/clean-blog/source/css/variables.styl","path":"css/variables.styl","modified":1,"renderable":1},{"_id":"themes/clean-blog/source/img/about-bg.jpg","path":"img/about-bg.jpg","modified":1,"renderable":1},{"_id":"themes/clean-blog/source/img/home-bg.jpg","path":"img/home-bg.jpg","modified":1,"renderable":1},{"_id":"themes/clean-blog/source/img/contact-bg.jpg","path":"img/contact-bg.jpg","modified":1,"renderable":1}],"Cache":[{"_id":"source/.DS_Store","hash":"d1267ca60ef500067b115952893c2bc47ba540fd","modified":1487556868000},{"_id":"themes/clean-blog/.DS_Store","hash":"370cbdbfbfe3df40234642b1d0b91c559c08bd03","modified":1486966410000},{"_id":"themes/clean-blog/LICENSE","hash":"8726b416df4f067cff579e859f05c4b594b8be09","modified":1486713054000},{"_id":"themes/clean-blog/README.md","hash":"c5c7b0fd01aa229304e7b00697517aaca51de577","modified":1486721475000},{"_id":"themes/clean-blog/_config.yml","hash":"c5724a28b3298af65d8dc3f1c92c003d8e3107e4","modified":1486952919000},{"_id":"source/_posts/JMeter-测试工具-入门.md","hash":"bc100c25ff61f4aa71158ec0aa23ff6ad6e0372f","modified":1486966576000},{"_id":"source/_posts/crontab-定时任务.md","hash":"32561e42d40e49ccce2376cbbfb0b86c542bf276","modified":1486968533000},{"_id":"source/_posts/设计模式－工厂模式.md","hash":"8b593831022ad30816936f3d4de43e823980bbe9","modified":1487557055000},{"_id":"source/_posts/设计模式－抽象工厂.md","hash":"f48102622ac86f97d5d0352c4ee3b46f9a4aba61","modified":1487557196000},{"_id":"source/_posts/适合多层级调转-各种子模块引用返回保留上一次查询记录.md","hash":"ff1b8619395bae1df8abd4ea47a6aa906a57c2ff","modified":1486965944000},{"_id":"themes/clean-blog/.git/HEAD","hash":"acbaef275e46a7f14c1ef456fff2c8bbe8c84724","modified":1486713054000},{"_id":"themes/clean-blog/.git/config","hash":"0037ed70f19e4933b19020ad514d8e9e049174f1","modified":1486713054000},{"_id":"themes/clean-blog/.git/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1486713045000},{"_id":"source/_posts/.DS_Store","hash":"df2fbeb1400acda0909a32c1cf6bf492f1121e07","modified":1487557351000},{"_id":"themes/clean-blog/.git/index","hash":"8f6c1dde19e1683fc8ffdf92ae561f6762f39176","modified":1486952621000},{"_id":"themes/clean-blog/.git/packed-refs","hash":"1dadbd4fdd53bbb7038fa2c7b3c71cd028c4ead4","modified":1486713054000},{"_id":"themes/clean-blog/languages/de.yml","hash":"424a9c1e6ab69334d7873f6574da02ca960aa572","modified":1486713054000},{"_id":"themes/clean-blog/languages/default.yml","hash":"97326c9e6518d9f379778178b3b8f9a58434725d","modified":1486713054000},{"_id":"themes/clean-blog/languages/en.yml","hash":"97326c9e6518d9f379778178b3b8f9a58434725d","modified":1486713054000},{"_id":"themes/clean-blog/languages/es.yml","hash":"cb4eeca0ed3768a77e0cd216300f2b2549628b1b","modified":1486713054000},{"_id":"themes/clean-blog/languages/fr.yml","hash":"e9e6f7cb362ebb7997f11027498a2748fe3bac95","modified":1486713054000},{"_id":"themes/clean-blog/languages/no.yml","hash":"8ca475a3b4f8efe6603030f0013aae39668230e1","modified":1486713054000},{"_id":"themes/clean-blog/languages/pl.yml","hash":"de7eb5850ae65ba7638e907c805fea90617a988c","modified":1486713054000},{"_id":"themes/clean-blog/languages/pt.yml","hash":"1d0c3689eb32fe13f37f8f6f303af7624ebfbaf0","modified":1486713054000},{"_id":"themes/clean-blog/languages/ru.yml","hash":"42df7afeb7a35dc46d272b7f4fb880a9d9ebcaa5","modified":1486713054000},{"_id":"themes/clean-blog/languages/zh-CN.yml","hash":"7bfcb0b8e97d7e5edcfca8ab26d55d9da2573c1c","modified":1486713054000},{"_id":"themes/clean-blog/languages/zh-TW.yml","hash":"9acac6cc4f8002c3fa53ff69fb8cf66c915bd016","modified":1486713054000},{"_id":"themes/clean-blog/layout/archive.ejs","hash":"ad0da72df13ce3566985bb390c2c9a9352cf4f07","modified":1486720858000},{"_id":"themes/clean-blog/layout/index.ejs","hash":"87995288ca6f95a04add641727aedd3f6afa55eb","modified":1486713054000},{"_id":"themes/clean-blog/layout/layout.ejs","hash":"da2f9018047924ddaf376aee5996c7ddc06cebc1","modified":1486713054000},{"_id":"themes/clean-blog/layout/page.ejs","hash":"38382e9bbeb6b8d2eafbd53fff2984111f524c1a","modified":1486713054000},{"_id":"themes/clean-blog/layout/post.ejs","hash":"38382e9bbeb6b8d2eafbd53fff2984111f524c1a","modified":1486713054000},{"_id":"themes/clean-blog/.git/hooks/applypatch-msg.sample","hash":"86b9655a9ebbde13ac8dd5795eb4d5b539edab0f","modified":1486713045000},{"_id":"themes/clean-blog/.git/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1486713045000},{"_id":"themes/clean-blog/.git/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1486713045000},{"_id":"themes/clean-blog/.git/hooks/pre-applypatch.sample","hash":"42fa41564917b44183a50c4d94bb03e1768ddad8","modified":1486713045000},{"_id":"themes/clean-blog/.git/hooks/pre-commit.sample","hash":"36aed8976dcc08b5076844f0ec645b18bc37758f","modified":1486713045000},{"_id":"themes/clean-blog/.git/hooks/pre-push.sample","hash":"5c8518bfd1d1d3d2c1a7194994c0a16d8a313a41","modified":1486713045000},{"_id":"themes/clean-blog/.git/hooks/pre-rebase.sample","hash":"5885a56ab4fca8075a05a562d005e922cde9853b","modified":1486713045000},{"_id":"themes/clean-blog/.git/hooks/prepare-commit-msg.sample","hash":"2b6275eda365cad50d167fe3a387c9bc9fedd54f","modified":1486713045000},{"_id":"themes/clean-blog/.git/hooks/update.sample","hash":"39355a075977d05708ef74e1b66d09a36e486df1","modified":1486713045000},{"_id":"themes/clean-blog/.git/info/exclude","hash":"c879df015d97615050afa7b9641e3352a1e701ac","modified":1486713045000},{"_id":"themes/clean-blog/.git/logs/HEAD","hash":"1c514eb906ae36c0bcf335566a106e9776434d7a","modified":1486713054000},{"_id":"themes/clean-blog/source/css/article.styl","hash":"f5294d7a3d6127fcb287de3ff0c12aebb1766c7b","modified":1486713054000},{"_id":"themes/clean-blog/source/css/mixins.styl","hash":"892f55e8a71f2e23a52e48e217dad3303bbad913","modified":1486713054000},{"_id":"themes/clean-blog/source/css/base.styl","hash":"f0a6fcf58fe515e1359acde0ed34081f580ec7a3","modified":1486713054000},{"_id":"themes/clean-blog/source/css/style.styl","hash":"c40dc495a41007d21c59f342ee42b2d31d7b5ff4","modified":1486713054000},{"_id":"themes/clean-blog/source/css/variables.styl","hash":"cd82df5ca8dfbcfec12d833f01adfac00878e835","modified":1486713054000},{"_id":"themes/clean-blog/source/img/about-bg.jpg","hash":"d39126a6456f2bac0169d1779304725f179c9900","modified":1486713054000},{"_id":"themes/clean-blog/layout/_partial/after-footer.ejs","hash":"80970a6cfbf9b1abe0c472636b321a9be08fdc43","modified":1486720822000},{"_id":"themes/clean-blog/layout/_partial/article-archive.ejs","hash":"3d8d98c6545b8332a6d6ed4f8b00327df03ea945","modified":1486713054000},{"_id":"themes/clean-blog/layout/_partial/article-categories.ejs","hash":"5a0bf5a20f670621d8013c9b9d7976b45c8aa80f","modified":1486713054000},{"_id":"themes/clean-blog/layout/_partial/article-full.ejs","hash":"8d63ce240bbcc850b5d438d1f45ad9441ac1c9cc","modified":1486713054000},{"_id":"themes/clean-blog/layout/_partial/article-index.ejs","hash":"e433df4e245e2d4c628052c6e59966563542d94d","modified":1486713054000},{"_id":"themes/clean-blog/layout/_partial/article-tags.ejs","hash":"6136434be09056c1466149cecb3cc2e80d107999","modified":1486713054000},{"_id":"themes/clean-blog/layout/_partial/comments.ejs","hash":"c60fae074b578dae26a612bd9eb9021f887c2851","modified":1486965712000},{"_id":"themes/clean-blog/layout/_partial/footer.ejs","hash":"d252fb1a41890e6481bb054f9cc4ceec3c0b0ed9","modified":1486713054000},{"_id":"themes/clean-blog/layout/_partial/gallery.ejs","hash":"21e4f28909f4a79ff7d9f10bdfef6a8cb11632bf","modified":1486713054000},{"_id":"themes/clean-blog/layout/_partial/google-analytics.ejs","hash":"4e6e8de9becea5a1636a4dcadcf7a10c06e2426e","modified":1486713054000},{"_id":"themes/clean-blog/layout/_partial/head.ejs","hash":"3a7eb32f2cc540746c9e11010a4513b832743d1e","modified":1486713054000},{"_id":"themes/clean-blog/layout/_partial/menu.ejs","hash":"ba299316400499e9ede154e9627cafb7ce411888","modified":1486713054000},{"_id":"themes/clean-blog/layout/_partial/pagination.ejs","hash":"557d6bb069a1d48af49ae912994653f44b32a570","modified":1486713054000},{"_id":"themes/clean-blog/.git/objects/pack/pack-150961354dcaf41617990f9a9d18fb969ec0b9fb.idx","hash":"32e5daf443ca079417d364b3ef3a4144baae432b","modified":1486713054000},{"_id":"themes/clean-blog/.git/refs/heads/master","hash":"cce37529c01e70f25e6266bf6fb91c4c88b2f9fb","modified":1486713054000},{"_id":"themes/clean-blog/source/img/home-bg.jpg","hash":"990f6f9dd0ecb5348bfcc47305553d58c0d8f326","modified":1486713054000},{"_id":"themes/clean-blog/.git/logs/refs/heads/master","hash":"1c514eb906ae36c0bcf335566a106e9776434d7a","modified":1486713054000},{"_id":"themes/clean-blog/.git/refs/remotes/origin/HEAD","hash":"d9427cda09aba1cdde5c69c2b13c905bddb0bc51","modified":1486713054000},{"_id":"themes/clean-blog/source/img/contact-bg.jpg","hash":"6af63305c923899017e727b5ca968a2703bc08cf","modified":1486713054000},{"_id":"themes/clean-blog/.git/logs/refs/remotes/origin/HEAD","hash":"1c514eb906ae36c0bcf335566a106e9776434d7a","modified":1486713054000},{"_id":"themes/clean-blog/.git/objects/pack/pack-150961354dcaf41617990f9a9d18fb969ec0b9fb.pack","hash":"4cc90aed47a7c34d707952de5396981e230bfff1","modified":1486713054000}],"Category":[],"Data":[],"Page":[],"Post":[{"title":"JMeter 测试工具 入门","date":"2017-02-13T03:00:17.000Z","layout":"jmeter","slug":"JMeter-测试工具-入门","_content":"### 说明(入门使用)：\n* jdk版本 1.7 \n* 下载 [apache-jmeter](http://jmeter.apache.org/download_jmeter.cgi) 版本随意 实例中使用的2.13\n* Test Plan 执行计划  执行使用  测试使用 如：回放测试\n* WorkBench 工作区域，准备使用，如：录制\n* --启动 ./bin/jmeter.sh \n\n\n###下面开始自动话测试，录制 ＋ 回放\n\n#####创建线程组和控制器\n \n ![1](http://ol5i7ltje.bkt.clouddn.com/69124311-7331-472F-B9CB-19D667B74D7E.png)\n ![2](http://ol5i7ltje.bkt.clouddn.com/76DDFAC0-EDB8-4378-A370-B0EAEBCABAEC.png)\n ![3](http://ol5i7ltje.bkt.clouddn.com/A850D422-5CF4-40FD-8657-964B3A3DA5C0.png)\n ![4](http://ol5i7ltje.bkt.clouddn.com/EB68A8DB-D06C-4B7C-806E-B0DDF988C9A2.png)\n ![5](http://ol5i7ltje.bkt.clouddn.com/D1658BF8-BF4D-432F-B681-3403C4D0A1C1.png)\n ![6](http://ol5i7ltje.bkt.clouddn.com/05067694-C406-4261-B40F-081A9CF60879.png)\n  \n#####选择目标控制器\n ![7](http://ol5i7ltje.bkt.clouddn.com/E9F57B0D-DD8F-4DA9-8DD9-51C96A325669.png)\n \n#####创建两个监听查询\n ![8](http://ol5i7ltje.bkt.clouddn.com/041812CA-5FD8-486F-B77E-44B65E0B69FC.png)\n ![9](http://ol5i7ltje.bkt.clouddn.com/43CEA00E-37B1-4DE0-A382-1E791A624BB4.png)\n ![10](http://ol5i7ltje.bkt.clouddn.com/9FC2876B-4DCF-4219-ACD7-31FDE6473981.png)\n \n#####开始录制\n ![10](http://ol5i7ltje.bkt.clouddn.com/B70872B0-209B-4F0A-BE8B-F8647B04DCF8.png)\n \n#####已经开始录制了\n ![11](http://ol5i7ltje.bkt.clouddn.com/5B221055-B544-468D-BD04-E434EC658201.png)\n \n#####准备回放，停止录制\n ![11](http://ol5i7ltje.bkt.clouddn.com/77BA9F59-AD43-480B-AACC-AC60E18D7EC6.png) \n \n#####开始回放\n  ![11](http://ol5i7ltje.bkt.clouddn.com/D219EB49-D5DB-4C1C-B6C5-827A36B0A6DB.png) \n ","source":"_posts/JMeter-测试工具-入门.md","raw":"---\ntitle: JMeter 测试工具 入门\ndate: 2017-02-13 11:00:17\ntags: java\nlayout: jmeter\nslug: apache-jmeter\n---\n### 说明(入门使用)：\n* jdk版本 1.7 \n* 下载 [apache-jmeter](http://jmeter.apache.org/download_jmeter.cgi) 版本随意 实例中使用的2.13\n* Test Plan 执行计划  执行使用  测试使用 如：回放测试\n* WorkBench 工作区域，准备使用，如：录制\n* --启动 ./bin/jmeter.sh \n\n\n###下面开始自动话测试，录制 ＋ 回放\n\n#####创建线程组和控制器\n \n ![1](http://ol5i7ltje.bkt.clouddn.com/69124311-7331-472F-B9CB-19D667B74D7E.png)\n ![2](http://ol5i7ltje.bkt.clouddn.com/76DDFAC0-EDB8-4378-A370-B0EAEBCABAEC.png)\n ![3](http://ol5i7ltje.bkt.clouddn.com/A850D422-5CF4-40FD-8657-964B3A3DA5C0.png)\n ![4](http://ol5i7ltje.bkt.clouddn.com/EB68A8DB-D06C-4B7C-806E-B0DDF988C9A2.png)\n ![5](http://ol5i7ltje.bkt.clouddn.com/D1658BF8-BF4D-432F-B681-3403C4D0A1C1.png)\n ![6](http://ol5i7ltje.bkt.clouddn.com/05067694-C406-4261-B40F-081A9CF60879.png)\n  \n#####选择目标控制器\n ![7](http://ol5i7ltje.bkt.clouddn.com/E9F57B0D-DD8F-4DA9-8DD9-51C96A325669.png)\n \n#####创建两个监听查询\n ![8](http://ol5i7ltje.bkt.clouddn.com/041812CA-5FD8-486F-B77E-44B65E0B69FC.png)\n ![9](http://ol5i7ltje.bkt.clouddn.com/43CEA00E-37B1-4DE0-A382-1E791A624BB4.png)\n ![10](http://ol5i7ltje.bkt.clouddn.com/9FC2876B-4DCF-4219-ACD7-31FDE6473981.png)\n \n#####开始录制\n ![10](http://ol5i7ltje.bkt.clouddn.com/B70872B0-209B-4F0A-BE8B-F8647B04DCF8.png)\n \n#####已经开始录制了\n ![11](http://ol5i7ltje.bkt.clouddn.com/5B221055-B544-468D-BD04-E434EC658201.png)\n \n#####准备回放，停止录制\n ![11](http://ol5i7ltje.bkt.clouddn.com/77BA9F59-AD43-480B-AACC-AC60E18D7EC6.png) \n \n#####开始回放\n  ![11](http://ol5i7ltje.bkt.clouddn.com/D219EB49-D5DB-4C1C-B6C5-827A36B0A6DB.png) \n ","published":1,"updated":"2017-02-13T06:16:16.000Z","comments":1,"photos":[],"link":"","_id":"cizdh8sx100005n5rirl7q9qn","content":"<h3 id=\"说明-入门使用-：\"><a href=\"#说明-入门使用-：\" class=\"headerlink\" title=\"说明(入门使用)：\"></a>说明(入门使用)：</h3><ul>\n<li>jdk版本 1.7 </li>\n<li>下载 <a href=\"http://jmeter.apache.org/download_jmeter.cgi\" target=\"_blank\" rel=\"external\">apache-jmeter</a> 版本随意 实例中使用的2.13</li>\n<li>Test Plan 执行计划  执行使用  测试使用 如：回放测试</li>\n<li>WorkBench 工作区域，准备使用，如：录制</li>\n<li>–启动 ./bin/jmeter.sh </li>\n</ul>\n<p>###下面开始自动话测试，录制 ＋ 回放</p>\n<p>#####创建线程组和控制器</p>\n<p> <img src=\"http://ol5i7ltje.bkt.clouddn.com/69124311-7331-472F-B9CB-19D667B74D7E.png\" alt=\"1\"><br> <img src=\"http://ol5i7ltje.bkt.clouddn.com/76DDFAC0-EDB8-4378-A370-B0EAEBCABAEC.png\" alt=\"2\"><br> <img src=\"http://ol5i7ltje.bkt.clouddn.com/A850D422-5CF4-40FD-8657-964B3A3DA5C0.png\" alt=\"3\"><br> <img src=\"http://ol5i7ltje.bkt.clouddn.com/EB68A8DB-D06C-4B7C-806E-B0DDF988C9A2.png\" alt=\"4\"><br> <img src=\"http://ol5i7ltje.bkt.clouddn.com/D1658BF8-BF4D-432F-B681-3403C4D0A1C1.png\" alt=\"5\"><br> <img src=\"http://ol5i7ltje.bkt.clouddn.com/05067694-C406-4261-B40F-081A9CF60879.png\" alt=\"6\"></p>\n<p>#####选择目标控制器<br> <img src=\"http://ol5i7ltje.bkt.clouddn.com/E9F57B0D-DD8F-4DA9-8DD9-51C96A325669.png\" alt=\"7\"></p>\n<p>#####创建两个监听查询<br> <img src=\"http://ol5i7ltje.bkt.clouddn.com/041812CA-5FD8-486F-B77E-44B65E0B69FC.png\" alt=\"8\"><br> <img src=\"http://ol5i7ltje.bkt.clouddn.com/43CEA00E-37B1-4DE0-A382-1E791A624BB4.png\" alt=\"9\"><br> <img src=\"http://ol5i7ltje.bkt.clouddn.com/9FC2876B-4DCF-4219-ACD7-31FDE6473981.png\" alt=\"10\"></p>\n<p>#####开始录制<br> <img src=\"http://ol5i7ltje.bkt.clouddn.com/B70872B0-209B-4F0A-BE8B-F8647B04DCF8.png\" alt=\"10\"></p>\n<p>#####已经开始录制了<br> <img src=\"http://ol5i7ltje.bkt.clouddn.com/5B221055-B544-468D-BD04-E434EC658201.png\" alt=\"11\"></p>\n<p>#####准备回放，停止录制<br> <img src=\"http://ol5i7ltje.bkt.clouddn.com/77BA9F59-AD43-480B-AACC-AC60E18D7EC6.png\" alt=\"11\"> </p>\n<p>#####开始回放<br>  <img src=\"http://ol5i7ltje.bkt.clouddn.com/D219EB49-D5DB-4C1C-B6C5-827A36B0A6DB.png\" alt=\"11\"> </p>\n","excerpt":"","more":"<h3 id=\"说明-入门使用-：\"><a href=\"#说明-入门使用-：\" class=\"headerlink\" title=\"说明(入门使用)：\"></a>说明(入门使用)：</h3><ul>\n<li>jdk版本 1.7 </li>\n<li>下载 <a href=\"http://jmeter.apache.org/download_jmeter.cgi\">apache-jmeter</a> 版本随意 实例中使用的2.13</li>\n<li>Test Plan 执行计划  执行使用  测试使用 如：回放测试</li>\n<li>WorkBench 工作区域，准备使用，如：录制</li>\n<li>–启动 ./bin/jmeter.sh </li>\n</ul>\n<p>###下面开始自动话测试，录制 ＋ 回放</p>\n<p>#####创建线程组和控制器</p>\n<p> <img src=\"http://ol5i7ltje.bkt.clouddn.com/69124311-7331-472F-B9CB-19D667B74D7E.png\" alt=\"1\"><br> <img src=\"http://ol5i7ltje.bkt.clouddn.com/76DDFAC0-EDB8-4378-A370-B0EAEBCABAEC.png\" alt=\"2\"><br> <img src=\"http://ol5i7ltje.bkt.clouddn.com/A850D422-5CF4-40FD-8657-964B3A3DA5C0.png\" alt=\"3\"><br> <img src=\"http://ol5i7ltje.bkt.clouddn.com/EB68A8DB-D06C-4B7C-806E-B0DDF988C9A2.png\" alt=\"4\"><br> <img src=\"http://ol5i7ltje.bkt.clouddn.com/D1658BF8-BF4D-432F-B681-3403C4D0A1C1.png\" alt=\"5\"><br> <img src=\"http://ol5i7ltje.bkt.clouddn.com/05067694-C406-4261-B40F-081A9CF60879.png\" alt=\"6\"></p>\n<p>#####选择目标控制器<br> <img src=\"http://ol5i7ltje.bkt.clouddn.com/E9F57B0D-DD8F-4DA9-8DD9-51C96A325669.png\" alt=\"7\"></p>\n<p>#####创建两个监听查询<br> <img src=\"http://ol5i7ltje.bkt.clouddn.com/041812CA-5FD8-486F-B77E-44B65E0B69FC.png\" alt=\"8\"><br> <img src=\"http://ol5i7ltje.bkt.clouddn.com/43CEA00E-37B1-4DE0-A382-1E791A624BB4.png\" alt=\"9\"><br> <img src=\"http://ol5i7ltje.bkt.clouddn.com/9FC2876B-4DCF-4219-ACD7-31FDE6473981.png\" alt=\"10\"></p>\n<p>#####开始录制<br> <img src=\"http://ol5i7ltje.bkt.clouddn.com/B70872B0-209B-4F0A-BE8B-F8647B04DCF8.png\" alt=\"10\"></p>\n<p>#####已经开始录制了<br> <img src=\"http://ol5i7ltje.bkt.clouddn.com/5B221055-B544-468D-BD04-E434EC658201.png\" alt=\"11\"></p>\n<p>#####准备回放，停止录制<br> <img src=\"http://ol5i7ltje.bkt.clouddn.com/77BA9F59-AD43-480B-AACC-AC60E18D7EC6.png\" alt=\"11\"> </p>\n<p>#####开始回放<br>  <img src=\"http://ol5i7ltje.bkt.clouddn.com/D219EB49-D5DB-4C1C-B6C5-827A36B0A6DB.png\" alt=\"11\"> </p>\n"},{"title":"crontab 定时任务","date":"2017-02-13T06:43:34.000Z","layout":"crontab","slug":"crontab-定时任务","_content":"\n1 检查  crontab -l 是否安装\n \n 检查crond服务是否启动 service crond status\n\n 安装cron\n \n`\nyum install vixie-cron\n`\n\n`\nyum install crontabs\n`\n\n2.开始\ncrontab -e\n测试每分钟打印到文件中\n*/1 * * * * date >> /tmp/log.txt\n\n`\ncrontab -l  可以查看crontab 任务\n`\n\n查看日志\n\n`\n/var/mail\n`\n\n开机执行\n`\n@reboot 执行 xx.sh\n`\n\n或者\n\n`\nvim /etc/re.d/re.locate 执行  xx.sh\n`\n\n >\n*/1 * * * * date >> /tmp/log.txt\n* * * * * COMMAND\n分钟0–59  小时 0-23 日期 1-31 月份 1-12 星期 0-7\n\n每晚 21:30 重启服务\n30 21 * * *\n\n每月1 ，10 22 日 4:45 重启\n45 4 1,10,22 * *\n\n每月1到10日 4:45  重启\n45 4 1-10 * *\n\n每2分钟 重启\n*/2 * * * *\n\n1-59/2 * * * *\n\n晚上11点到 早7点 每隔一小时重启\n0 23-7/1 * * *\n\n每天 18:00 - 23:00 每30分钟\n0,30 18-23 * * *\n0-59/30 18-23 * * *\n >","source":"_posts/crontab-定时任务.md","raw":"---\ntitle: crontab 定时任务\ndate: 2017-02-13 14:43:34\ntags: linux\nlayout: crontab\nslug: linux-crontab\n---\n\n1 检查  crontab -l 是否安装\n \n 检查crond服务是否启动 service crond status\n\n 安装cron\n \n`\nyum install vixie-cron\n`\n\n`\nyum install crontabs\n`\n\n2.开始\ncrontab -e\n测试每分钟打印到文件中\n*/1 * * * * date >> /tmp/log.txt\n\n`\ncrontab -l  可以查看crontab 任务\n`\n\n查看日志\n\n`\n/var/mail\n`\n\n开机执行\n`\n@reboot 执行 xx.sh\n`\n\n或者\n\n`\nvim /etc/re.d/re.locate 执行  xx.sh\n`\n\n >\n*/1 * * * * date >> /tmp/log.txt\n* * * * * COMMAND\n分钟0–59  小时 0-23 日期 1-31 月份 1-12 星期 0-7\n\n每晚 21:30 重启服务\n30 21 * * *\n\n每月1 ，10 22 日 4:45 重启\n45 4 1,10,22 * *\n\n每月1到10日 4:45  重启\n45 4 1-10 * *\n\n每2分钟 重启\n*/2 * * * *\n\n1-59/2 * * * *\n\n晚上11点到 早7点 每隔一小时重启\n0 23-7/1 * * *\n\n每天 18:00 - 23:00 每30分钟\n0,30 18-23 * * *\n0-59/30 18-23 * * *\n >","published":1,"updated":"2017-02-13T06:48:53.000Z","comments":1,"photos":[],"link":"","_id":"cizdh8sx500015n5r7qb54224","content":"<p>1 检查  crontab -l 是否安装</p>\n<p> 检查crond服务是否启动 service crond status</p>\n<p> 安装cron</p>\n<p><code>yum install vixie-cron</code></p>\n<p><code>yum install crontabs</code></p>\n<p>2.开始<br>crontab -e<br>测试每分钟打印到文件中<br><em>/1 </em> <em> </em> * date &gt;&gt; /tmp/log.txt</p>\n<p><code>crontab -l  可以查看crontab 任务</code></p>\n<p>查看日志</p>\n<p><code>/var/mail</code></p>\n<p>开机执行<br><code>@reboot 执行 xx.sh</code></p>\n<p>或者</p>\n<p><code>vim /etc/re.d/re.locate 执行  xx.sh</code></p>\n<p> &gt;<br><em>/1 </em> <em> </em> * date &gt;&gt; /tmp/log.txt</p>\n<ul>\n<li><ul>\n<li><ul>\n<li><ul>\n<li><ul>\n<li>COMMAND<br>分钟0–59  小时 0-23 日期 1-31 月份 1-12 星期 0-7</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>每晚 21:30 重启服务<br>30 21 <em> </em> *</p>\n<p>每月1 ，10 22 日 4:45 重启<br>45 4 1,10,22 <em> </em></p>\n<p>每月1到10日 4:45  重启<br>45 4 1-10 <em> </em></p>\n<p>每2分钟 重启<br><em>/2 </em> <em> </em> *</p>\n<p>1-59/2 <em> </em> <em> </em></p>\n<p>晚上11点到 早7点 每隔一小时重启<br>0 23-7/1 <em> </em> *</p>\n<p>每天 18:00 - 23:00 每30分钟<br>0,30 18-23 <em> </em> <em><br>0-59/30 18-23 </em> <em> </em><br> &gt;</p>\n","excerpt":"","more":"<p>1 检查  crontab -l 是否安装</p>\n<p> 检查crond服务是否启动 service crond status</p>\n<p> 安装cron</p>\n<p><code>yum install vixie-cron</code></p>\n<p><code>yum install crontabs</code></p>\n<p>2.开始<br>crontab -e<br>测试每分钟打印到文件中<br><em>/1 </em> <em> </em> * date &gt;&gt; /tmp/log.txt</p>\n<p><code>crontab -l  可以查看crontab 任务</code></p>\n<p>查看日志</p>\n<p><code>/var/mail</code></p>\n<p>开机执行<br><code>@reboot 执行 xx.sh</code></p>\n<p>或者</p>\n<p><code>vim /etc/re.d/re.locate 执行  xx.sh</code></p>\n<p> &gt;<br><em>/1 </em> <em> </em> * date &gt;&gt; /tmp/log.txt</p>\n<ul>\n<li><ul>\n<li><ul>\n<li><ul>\n<li><ul>\n<li>COMMAND<br>分钟0–59  小时 0-23 日期 1-31 月份 1-12 星期 0-7</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>每晚 21:30 重启服务<br>30 21 <em> </em> *</p>\n<p>每月1 ，10 22 日 4:45 重启<br>45 4 1,10,22 <em> </em></p>\n<p>每月1到10日 4:45  重启<br>45 4 1-10 <em> </em></p>\n<p>每2分钟 重启<br><em>/2 </em> <em> </em> *</p>\n<p>1-59/2 <em> </em> <em> </em></p>\n<p>晚上11点到 早7点 每隔一小时重启<br>0 23-7/1 <em> </em> *</p>\n<p>每天 18:00 - 23:00 每30分钟<br>0,30 18-23 <em> </em> <em><br>0-59/30 18-23 </em> <em> </em><br> &gt;</p>\n"},{"title":"设计模式－工厂模式","date":"2017-02-20T02:14:10.000Z","layout":"design","slug":"设计模式－工厂模式","_content":"\n\n###设计模式\n设计模式，不管看了多少遍，只要不实践，过段时间就会忘记 \n \n[工厂模式](#工厂模式)\n  \n \n**\n栗子之小明找女友.小明需要找个充气女友使用.下面使用工厂模式，生产出不同国家的女朋友\n**\n \n\n \n``` java\n/*\n* 简单工厂模式\n*/\npublic class FactoryPattern {\n\n\n    public static void main(String[] arg){\n        FactoryPattern factoryPattern = new FactoryPattern();\n\n        AerateGirl aerateGirl = factoryPattern.get(\"F\");\n        aerateGirl.use();\n\n        aerateGirl = factoryPattern.get(\"J\");\n        aerateGirl.use();\n    }\n\n    public AerateGirl get(String use){\n        if(use == null){\n            return null;\n        }\n        if(use.equalsIgnoreCase(\"J\")){\n            return new Japan();\n        } else if(use.equalsIgnoreCase(\"F\")){\n            return new France();\n        }\n        return null;\n    }\n}\n \ninterface AerateGirl {\n    void use();\n}\n\n \n/*\n *日本充气菇凉\n*/\nclass Japan implements AerateGirl {\n    @Override\n    public void use() {\n        System.out.println(\"日本菇凉\");\n    }\n}\n\n/*\n*法国充气菇凉\n*/\nclass France implements AerateGirl {\n    @Override\n    public void use() {\n        System.out.println(\"法国菇凉\");\n    }\n}\n```","source":"_posts/设计模式－工厂模式.md","raw":"---\ntitle: 设计模式－工厂模式\ndate: 2017-02-20 10:14:10\ntags: 设计模式\nlayout: design\nslug: java-design\n---\n\n\n###设计模式\n设计模式，不管看了多少遍，只要不实践，过段时间就会忘记 \n \n[工厂模式](#工厂模式)\n  \n \n**\n栗子之小明找女友.小明需要找个充气女友使用.下面使用工厂模式，生产出不同国家的女朋友\n**\n \n\n \n``` java\n/*\n* 简单工厂模式\n*/\npublic class FactoryPattern {\n\n\n    public static void main(String[] arg){\n        FactoryPattern factoryPattern = new FactoryPattern();\n\n        AerateGirl aerateGirl = factoryPattern.get(\"F\");\n        aerateGirl.use();\n\n        aerateGirl = factoryPattern.get(\"J\");\n        aerateGirl.use();\n    }\n\n    public AerateGirl get(String use){\n        if(use == null){\n            return null;\n        }\n        if(use.equalsIgnoreCase(\"J\")){\n            return new Japan();\n        } else if(use.equalsIgnoreCase(\"F\")){\n            return new France();\n        }\n        return null;\n    }\n}\n \ninterface AerateGirl {\n    void use();\n}\n\n \n/*\n *日本充气菇凉\n*/\nclass Japan implements AerateGirl {\n    @Override\n    public void use() {\n        System.out.println(\"日本菇凉\");\n    }\n}\n\n/*\n*法国充气菇凉\n*/\nclass France implements AerateGirl {\n    @Override\n    public void use() {\n        System.out.println(\"法国菇凉\");\n    }\n}\n```","published":1,"updated":"2017-02-20T02:17:35.000Z","comments":1,"photos":[],"link":"","_id":"cizdh8sxa00035n5rzc8dsaq4","content":"<p>###设计模式<br>设计模式，不管看了多少遍，只要不实践，过段时间就会忘记 </p>\n<p><a href=\"#工厂模式\">工厂模式</a></p>\n<p><strong><br>栗子之小明找女友.小明需要找个充气女友使用.下面使用工厂模式，生产出不同国家的女朋友\n</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">/*</span></div><div class=\"line\">* 简单工厂模式</div><div class=\"line\">*/</div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FactoryPattern</span> </span>&#123;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] arg)</span></span>&#123;</div><div class=\"line\">        FactoryPattern factoryPattern = <span class=\"keyword\">new</span> FactoryPattern();</div><div class=\"line\"></div><div class=\"line\">        AerateGirl aerateGirl = factoryPattern.get(<span class=\"string\">\"F\"</span>);</div><div class=\"line\">        aerateGirl.use();</div><div class=\"line\"></div><div class=\"line\">        aerateGirl = factoryPattern.get(<span class=\"string\">\"J\"</span>);</div><div class=\"line\">        aerateGirl.use();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> AerateGirl <span class=\"title\">get</span><span class=\"params\">(String use)</span></span>&#123;</div><div class=\"line\">        <span class=\"keyword\">if</span>(use == <span class=\"keyword\">null</span>)&#123;</div><div class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</div><div class=\"line\">        &#125;</div><div class=\"line\">        <span class=\"keyword\">if</span>(use.equalsIgnoreCase(<span class=\"string\">\"J\"</span>))&#123;</div><div class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Japan();</div><div class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(use.equalsIgnoreCase(<span class=\"string\">\"F\"</span>))&#123;</div><div class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> France();</div><div class=\"line\">        &#125;</div><div class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"> </div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">AerateGirl</span> </span>&#123;</div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">use</span><span class=\"params\">()</span></span>;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"> </div><div class=\"line\"><span class=\"comment\">/*</span></div><div class=\"line\"> *日本充气菇凉</div><div class=\"line\">*/</div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Japan</span> <span class=\"keyword\">implements</span> <span class=\"title\">AerateGirl</span> </span>&#123;</div><div class=\"line\">    <span class=\"meta\">@Override</span></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">use</span><span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">        System.out.println(<span class=\"string\">\"日本菇凉\"</span>);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">/*</span></div><div class=\"line\">*法国充气菇凉</div><div class=\"line\">*/</div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">France</span> <span class=\"keyword\">implements</span> <span class=\"title\">AerateGirl</span> </span>&#123;</div><div class=\"line\">    <span class=\"meta\">@Override</span></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">use</span><span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">        System.out.println(<span class=\"string\">\"法国菇凉\"</span>);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>","excerpt":"","more":"<p>###设计模式<br>设计模式，不管看了多少遍，只要不实践，过段时间就会忘记 </p>\n<p><a href=\"#工厂模式\">工厂模式</a></p>\n<p><strong><br>栗子之小明找女友.小明需要找个充气女友使用.下面使用工厂模式，生产出不同国家的女朋友\n</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">/*</div><div class=\"line\">* 简单工厂模式</div><div class=\"line\">*/</span></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FactoryPattern</span> </span>&#123;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] arg)</span></span>&#123;</div><div class=\"line\">        FactoryPattern factoryPattern = <span class=\"keyword\">new</span> FactoryPattern();</div><div class=\"line\"></div><div class=\"line\">        AerateGirl aerateGirl = factoryPattern.get(<span class=\"string\">\"F\"</span>);</div><div class=\"line\">        aerateGirl.use();</div><div class=\"line\"></div><div class=\"line\">        aerateGirl = factoryPattern.get(<span class=\"string\">\"J\"</span>);</div><div class=\"line\">        aerateGirl.use();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> AerateGirl <span class=\"title\">get</span><span class=\"params\">(String use)</span></span>&#123;</div><div class=\"line\">        <span class=\"keyword\">if</span>(use == <span class=\"keyword\">null</span>)&#123;</div><div class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</div><div class=\"line\">        &#125;</div><div class=\"line\">        <span class=\"keyword\">if</span>(use.equalsIgnoreCase(<span class=\"string\">\"J\"</span>))&#123;</div><div class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Japan();</div><div class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(use.equalsIgnoreCase(<span class=\"string\">\"F\"</span>))&#123;</div><div class=\"line\">            <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> France();</div><div class=\"line\">        &#125;</div><div class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">null</span>;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"> </div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">AerateGirl</span> </span>&#123;</div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">use</span><span class=\"params\">()</span></span>;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"> </div><div class=\"line\"><span class=\"comment\">/*</div><div class=\"line\"> *日本充气菇凉</div><div class=\"line\">*/</span></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Japan</span> <span class=\"keyword\">implements</span> <span class=\"title\">AerateGirl</span> </span>&#123;</div><div class=\"line\">    <span class=\"meta\">@Override</span></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">use</span><span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">        System.out.println(<span class=\"string\">\"日本菇凉\"</span>);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">/*</div><div class=\"line\">*法国充气菇凉</div><div class=\"line\">*/</span></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">France</span> <span class=\"keyword\">implements</span> <span class=\"title\">AerateGirl</span> </span>&#123;</div><div class=\"line\">    <span class=\"meta\">@Override</span></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">use</span><span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">        System.out.println(<span class=\"string\">\"法国菇凉\"</span>);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>"},{"title":"设计模式－抽象工厂","date":"2017-02-20T02:17:52.000Z","layout":"design","slug":"设计模式－抽象工厂","_content":"\n  **\n  栗子之小明找女友2.\n  小明对买来的充气女友不太满意，决定自己生产\n  **\n \n \n \n``` java\n /*\n  * 抽象工厂\n  */\n  public class AbstractFactoryPattern {\n\n\n    public static void main(String args[]){\n        AbstractFactoryPattern abstractFactoryPattern = new AbstractFactoryPattern();\n        abstractFactoryPattern.demo();\n    }\n\n\n    public void demo() {\n\n\n        FactoryProducer producer = new FactoryProducer();\n        AbstractFactory abstractFactory = producer.getFactory(\"J\");\n\n        AerateGirl aerateGirl = new GeneratorGirl(abstractFactory);\n        aerateGirl.use();\n\n        abstractFactory = producer.getFactory(\"F\");\n        aerateGirl = new GeneratorGirl(abstractFactory);\n        aerateGirl.use();\n\n\n    }\n\n\n    public abstract class AerateGirl {\n\n        Hand hand;\n        Foot foot;\n        Body body;\n        Clothing clothing;\n\n        abstract void use();\n\n\n    }\n\n \n    /*\n    *工厂选择\n    */\n    public class FactoryProducer {\n\n        AbstractFactory abstractFactory;\n\n        public AbstractFactory getFactory(String use) {\n            if (use.equalsIgnoreCase(\"F\")) {\n                abstractFactory = new FranceFactory();\n            } else if (use.equalsIgnoreCase(\"J\")) {\n                abstractFactory = new JapanFactory();\n\n            }\n            return abstractFactory;\n        }\n    }\n\n    //生产娃娃\n    class GeneratorGirl extends AerateGirl {\n        AbstractFactory abstractFactory;\n\n        //准备要生产充气娃娃啦\n        public GeneratorGirl(AbstractFactory abstractFactory) {\n            this.abstractFactory = abstractFactory;\n        }\n\n        @Override\n        void use() {\n\n            hand = abstractFactory.getHand();\n            foot = abstractFactory.getFoot();\n            body = abstractFactory.getBody();\n            clothing = abstractFactory.getClothing();\n            System.out.println(body.get() +\"&&&&&\"+ foot.get() +\"&&&&&\"+ hand.get()  +\"&&&&&\"+ clothing.get());\n        }\n\n\n    }\n\n\n    /*\n     * 进一步实现充气娃娃\n     * 在工厂模式中,我们直接使用 AerateGirl 来返回不同国家的对象\n     * <p>\n     * 她的构成需要不同的组件\n     * 手,脚,头,身体,衣服\n     */\n    interface AbstractFactory {\n\n        Hand getHand();\n\n        Foot getFoot();\n\n        Body getBody();\n\n        Clothing getClothing();\n\n\n    }\n\n    /*\n     * 日本工厂生产\n     */\n    class JapanFactory implements AbstractFactory {\n\n        @Override\n        public Hand getHand() {\n            return new JapanHand();\n        }\n\n        @Override\n        public Foot getFoot() {\n            return new JapanFoot();\n        }\n\n        @Override\n        public Body getBody() {\n            return new JapanBody();\n        }\n\n        @Override\n        public Clothing getClothing() {\n            return new JapanClothing();\n        }\n    }\n\n    /*\n     * 法国工厂生产\n     */\n    class FranceFactory implements AbstractFactory {\n\n        @Override\n        public Hand getHand() {\n            return new FranceHand();\n        }\n\n        @Override\n        public Foot getFoot() {\n            return new FranceFoot();\n        }\n\n        @Override\n        public Body getBody() {\n            return new FranceBody();\n        }\n\n        @Override\n        public Clothing getClothing() {\n            return new FranceClothing();\n        }\n    }\n\n\n    interface Hand {\n        String get();\n    }\n\n    class JapanHand implements Hand {\n        @Override\n        public String get() {\n            return \"日本--组件--手\";\n        }\n    }\n\n    class FranceHand implements Hand {\n        @Override\n        public String get() {\n            return \"法国--组件--手\";\n        }\n    }\n\n\n    interface Foot {\n        String get();\n    }\n\n\n    class JapanFoot implements Foot {\n        @Override\n        public String get() {\n            return \"日本--组件--脚\";\n        }\n    }\n\n    class FranceFoot implements Foot {\n        @Override\n        public String get() {\n            return \"法国--组件--脚\";\n        }\n    }\n\n\n    interface Body {\n        String get();\n    }\n\n\n    class JapanBody implements Body {\n        @Override\n        public String get() {\n            return \"日本--组件--身体\";\n        }\n    }\n\n    class FranceBody implements Body {\n        @Override\n        public String get() {\n            return \"法国--组件--身体\";\n        }\n    }\n\n    interface Clothing {\n        String get();\n    }\n\n    class JapanClothing implements Clothing {\n        @Override\n        public String get() {\n            return \"日本--组件--衣服\";\n        }\n    }\n\n    class FranceClothing implements Clothing {\n        @Override\n        public String get() {\n            return \"法国--组件--衣服\";\n        }\n    }\n  }\n```  \n","source":"_posts/设计模式－抽象工厂.md","raw":"---\ntitle: 设计模式－抽象工厂\ndate: 2017-02-20 10:17:52\ntags: 设计模式\nlayout: design\nslug: java-design\n---\n\n  **\n  栗子之小明找女友2.\n  小明对买来的充气女友不太满意，决定自己生产\n  **\n \n \n \n``` java\n /*\n  * 抽象工厂\n  */\n  public class AbstractFactoryPattern {\n\n\n    public static void main(String args[]){\n        AbstractFactoryPattern abstractFactoryPattern = new AbstractFactoryPattern();\n        abstractFactoryPattern.demo();\n    }\n\n\n    public void demo() {\n\n\n        FactoryProducer producer = new FactoryProducer();\n        AbstractFactory abstractFactory = producer.getFactory(\"J\");\n\n        AerateGirl aerateGirl = new GeneratorGirl(abstractFactory);\n        aerateGirl.use();\n\n        abstractFactory = producer.getFactory(\"F\");\n        aerateGirl = new GeneratorGirl(abstractFactory);\n        aerateGirl.use();\n\n\n    }\n\n\n    public abstract class AerateGirl {\n\n        Hand hand;\n        Foot foot;\n        Body body;\n        Clothing clothing;\n\n        abstract void use();\n\n\n    }\n\n \n    /*\n    *工厂选择\n    */\n    public class FactoryProducer {\n\n        AbstractFactory abstractFactory;\n\n        public AbstractFactory getFactory(String use) {\n            if (use.equalsIgnoreCase(\"F\")) {\n                abstractFactory = new FranceFactory();\n            } else if (use.equalsIgnoreCase(\"J\")) {\n                abstractFactory = new JapanFactory();\n\n            }\n            return abstractFactory;\n        }\n    }\n\n    //生产娃娃\n    class GeneratorGirl extends AerateGirl {\n        AbstractFactory abstractFactory;\n\n        //准备要生产充气娃娃啦\n        public GeneratorGirl(AbstractFactory abstractFactory) {\n            this.abstractFactory = abstractFactory;\n        }\n\n        @Override\n        void use() {\n\n            hand = abstractFactory.getHand();\n            foot = abstractFactory.getFoot();\n            body = abstractFactory.getBody();\n            clothing = abstractFactory.getClothing();\n            System.out.println(body.get() +\"&&&&&\"+ foot.get() +\"&&&&&\"+ hand.get()  +\"&&&&&\"+ clothing.get());\n        }\n\n\n    }\n\n\n    /*\n     * 进一步实现充气娃娃\n     * 在工厂模式中,我们直接使用 AerateGirl 来返回不同国家的对象\n     * <p>\n     * 她的构成需要不同的组件\n     * 手,脚,头,身体,衣服\n     */\n    interface AbstractFactory {\n\n        Hand getHand();\n\n        Foot getFoot();\n\n        Body getBody();\n\n        Clothing getClothing();\n\n\n    }\n\n    /*\n     * 日本工厂生产\n     */\n    class JapanFactory implements AbstractFactory {\n\n        @Override\n        public Hand getHand() {\n            return new JapanHand();\n        }\n\n        @Override\n        public Foot getFoot() {\n            return new JapanFoot();\n        }\n\n        @Override\n        public Body getBody() {\n            return new JapanBody();\n        }\n\n        @Override\n        public Clothing getClothing() {\n            return new JapanClothing();\n        }\n    }\n\n    /*\n     * 法国工厂生产\n     */\n    class FranceFactory implements AbstractFactory {\n\n        @Override\n        public Hand getHand() {\n            return new FranceHand();\n        }\n\n        @Override\n        public Foot getFoot() {\n            return new FranceFoot();\n        }\n\n        @Override\n        public Body getBody() {\n            return new FranceBody();\n        }\n\n        @Override\n        public Clothing getClothing() {\n            return new FranceClothing();\n        }\n    }\n\n\n    interface Hand {\n        String get();\n    }\n\n    class JapanHand implements Hand {\n        @Override\n        public String get() {\n            return \"日本--组件--手\";\n        }\n    }\n\n    class FranceHand implements Hand {\n        @Override\n        public String get() {\n            return \"法国--组件--手\";\n        }\n    }\n\n\n    interface Foot {\n        String get();\n    }\n\n\n    class JapanFoot implements Foot {\n        @Override\n        public String get() {\n            return \"日本--组件--脚\";\n        }\n    }\n\n    class FranceFoot implements Foot {\n        @Override\n        public String get() {\n            return \"法国--组件--脚\";\n        }\n    }\n\n\n    interface Body {\n        String get();\n    }\n\n\n    class JapanBody implements Body {\n        @Override\n        public String get() {\n            return \"日本--组件--身体\";\n        }\n    }\n\n    class FranceBody implements Body {\n        @Override\n        public String get() {\n            return \"法国--组件--身体\";\n        }\n    }\n\n    interface Clothing {\n        String get();\n    }\n\n    class JapanClothing implements Clothing {\n        @Override\n        public String get() {\n            return \"日本--组件--衣服\";\n        }\n    }\n\n    class FranceClothing implements Clothing {\n        @Override\n        public String get() {\n            return \"法国--组件--衣服\";\n        }\n    }\n  }\n```  \n","published":1,"updated":"2017-02-20T02:19:56.000Z","comments":1,"photos":[],"link":"","_id":"cizdh8sxa00045n5rvsi7ohfv","content":"<p>  <strong><br>  栗子之小明找女友2.<br>  小明对买来的充气女友不太满意，决定自己生产\n  </strong></p>\n<pre><code class=\"java\"><span class=\"comment\">/*\n * 抽象工厂\n */</span>\n <span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">AbstractFactoryPattern</span> </span>{\n\n\n   <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String args[])</span></span>{\n       AbstractFactoryPattern abstractFactoryPattern = <span class=\"keyword\">new</span> AbstractFactoryPattern();\n       abstractFactoryPattern.demo();\n   }\n\n\n   <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">demo</span><span class=\"params\">()</span> </span>{\n\n\n       FactoryProducer producer = <span class=\"keyword\">new</span> FactoryProducer();\n       AbstractFactory abstractFactory = producer.getFactory(<span class=\"string\">\"J\"</span>);\n\n       AerateGirl aerateGirl = <span class=\"keyword\">new</span> GeneratorGirl(abstractFactory);\n       aerateGirl.use();\n\n       abstractFactory = producer.getFactory(<span class=\"string\">\"F\"</span>);\n       aerateGirl = <span class=\"keyword\">new</span> GeneratorGirl(abstractFactory);\n       aerateGirl.use();\n\n\n   }\n\n\n   <span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">AerateGirl</span> </span>{\n\n       Hand hand;\n       Foot foot;\n       Body body;\n       Clothing clothing;\n\n       <span class=\"function\"><span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">use</span><span class=\"params\">()</span></span>;\n\n\n   }\n\n\n   <span class=\"comment\">/*\n   *工厂选择\n   */</span>\n   <span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FactoryProducer</span> </span>{\n\n       AbstractFactory abstractFactory;\n\n       <span class=\"function\"><span class=\"keyword\">public</span> AbstractFactory <span class=\"title\">getFactory</span><span class=\"params\">(String use)</span> </span>{\n           <span class=\"keyword\">if</span> (use.equalsIgnoreCase(<span class=\"string\">\"F\"</span>)) {\n               abstractFactory = <span class=\"keyword\">new</span> FranceFactory();\n           } <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (use.equalsIgnoreCase(<span class=\"string\">\"J\"</span>)) {\n               abstractFactory = <span class=\"keyword\">new</span> JapanFactory();\n\n           }\n           <span class=\"keyword\">return</span> abstractFactory;\n       }\n   }\n\n   <span class=\"comment\">//生产娃娃</span>\n   <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">GeneratorGirl</span> <span class=\"keyword\">extends</span> <span class=\"title\">AerateGirl</span> </span>{\n       AbstractFactory abstractFactory;\n\n       <span class=\"comment\">//准备要生产充气娃娃啦</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">GeneratorGirl</span><span class=\"params\">(AbstractFactory abstractFactory)</span> </span>{\n           <span class=\"keyword\">this</span>.abstractFactory = abstractFactory;\n       }\n\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">use</span><span class=\"params\">()</span> </span>{\n\n           hand = abstractFactory.getHand();\n           foot = abstractFactory.getFoot();\n           body = abstractFactory.getBody();\n           clothing = abstractFactory.getClothing();\n           System.out.println(body.get() +<span class=\"string\">\"&amp;&amp;&amp;&amp;&amp;\"</span>+ foot.get() +<span class=\"string\">\"&amp;&amp;&amp;&amp;&amp;\"</span>+ hand.get()  +<span class=\"string\">\"&amp;&amp;&amp;&amp;&amp;\"</span>+ clothing.get());\n       }\n\n\n   }\n\n\n   <span class=\"comment\">/*\n    * 进一步实现充气娃娃\n    * 在工厂模式中,我们直接使用 AerateGirl 来返回不同国家的对象\n    * &lt;p&gt;\n    * 她的构成需要不同的组件\n    * 手,脚,头,身体,衣服\n    */</span>\n   <span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">AbstractFactory</span> </span>{\n\n       <span class=\"function\">Hand <span class=\"title\">getHand</span><span class=\"params\">()</span></span>;\n\n       <span class=\"function\">Foot <span class=\"title\">getFoot</span><span class=\"params\">()</span></span>;\n\n       <span class=\"function\">Body <span class=\"title\">getBody</span><span class=\"params\">()</span></span>;\n\n       <span class=\"function\">Clothing <span class=\"title\">getClothing</span><span class=\"params\">()</span></span>;\n\n\n   }\n\n   <span class=\"comment\">/*\n    * 日本工厂生产\n    */</span>\n   <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">JapanFactory</span> <span class=\"keyword\">implements</span> <span class=\"title\">AbstractFactory</span> </span>{\n\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> Hand <span class=\"title\">getHand</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> JapanHand();\n       }\n\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> Foot <span class=\"title\">getFoot</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> JapanFoot();\n       }\n\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> Body <span class=\"title\">getBody</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> JapanBody();\n       }\n\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> Clothing <span class=\"title\">getClothing</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> JapanClothing();\n       }\n   }\n\n   <span class=\"comment\">/*\n    * 法国工厂生产\n    */</span>\n   <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FranceFactory</span> <span class=\"keyword\">implements</span> <span class=\"title\">AbstractFactory</span> </span>{\n\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> Hand <span class=\"title\">getHand</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> FranceHand();\n       }\n\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> Foot <span class=\"title\">getFoot</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> FranceFoot();\n       }\n\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> Body <span class=\"title\">getBody</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> FranceBody();\n       }\n\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> Clothing <span class=\"title\">getClothing</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> FranceClothing();\n       }\n   }\n\n\n   <span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">Hand</span> </span>{\n       <span class=\"function\">String <span class=\"title\">get</span><span class=\"params\">()</span></span>;\n   }\n\n   <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">JapanHand</span> <span class=\"keyword\">implements</span> <span class=\"title\">Hand</span> </span>{\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">get</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"string\">\"日本--组件--手\"</span>;\n       }\n   }\n\n   <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FranceHand</span> <span class=\"keyword\">implements</span> <span class=\"title\">Hand</span> </span>{\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">get</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"string\">\"法国--组件--手\"</span>;\n       }\n   }\n\n\n   <span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">Foot</span> </span>{\n       <span class=\"function\">String <span class=\"title\">get</span><span class=\"params\">()</span></span>;\n   }\n\n\n   <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">JapanFoot</span> <span class=\"keyword\">implements</span> <span class=\"title\">Foot</span> </span>{\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">get</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"string\">\"日本--组件--脚\"</span>;\n       }\n   }\n\n   <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FranceFoot</span> <span class=\"keyword\">implements</span> <span class=\"title\">Foot</span> </span>{\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">get</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"string\">\"法国--组件--脚\"</span>;\n       }\n   }\n\n\n   <span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">Body</span> </span>{\n       <span class=\"function\">String <span class=\"title\">get</span><span class=\"params\">()</span></span>;\n   }\n\n\n   <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">JapanBody</span> <span class=\"keyword\">implements</span> <span class=\"title\">Body</span> </span>{\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">get</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"string\">\"日本--组件--身体\"</span>;\n       }\n   }\n\n   <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FranceBody</span> <span class=\"keyword\">implements</span> <span class=\"title\">Body</span> </span>{\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">get</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"string\">\"法国--组件--身体\"</span>;\n       }\n   }\n\n   <span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">Clothing</span> </span>{\n       <span class=\"function\">String <span class=\"title\">get</span><span class=\"params\">()</span></span>;\n   }\n\n   <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">JapanClothing</span> <span class=\"keyword\">implements</span> <span class=\"title\">Clothing</span> </span>{\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">get</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"string\">\"日本--组件--衣服\"</span>;\n       }\n   }\n\n   <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FranceClothing</span> <span class=\"keyword\">implements</span> <span class=\"title\">Clothing</span> </span>{\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">get</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"string\">\"法国--组件--衣服\"</span>;\n       }\n   }\n }\n</code></pre>\n","excerpt":"","more":"<p>  <strong><br>  栗子之小明找女友2.<br>  小明对买来的充气女友不太满意，决定自己生产\n  </strong></p>\n<pre><code class=\"java\"><span class=\"comment\">/*\n * 抽象工厂\n */</span>\n <span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">AbstractFactoryPattern</span> </span>{\n\n\n   <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String args[])</span></span>{\n       AbstractFactoryPattern abstractFactoryPattern = <span class=\"keyword\">new</span> AbstractFactoryPattern();\n       abstractFactoryPattern.demo();\n   }\n\n\n   <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">demo</span><span class=\"params\">()</span> </span>{\n\n\n       FactoryProducer producer = <span class=\"keyword\">new</span> FactoryProducer();\n       AbstractFactory abstractFactory = producer.getFactory(<span class=\"string\">\"J\"</span>);\n\n       AerateGirl aerateGirl = <span class=\"keyword\">new</span> GeneratorGirl(abstractFactory);\n       aerateGirl.use();\n\n       abstractFactory = producer.getFactory(<span class=\"string\">\"F\"</span>);\n       aerateGirl = <span class=\"keyword\">new</span> GeneratorGirl(abstractFactory);\n       aerateGirl.use();\n\n\n   }\n\n\n   <span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">AerateGirl</span> </span>{\n\n       Hand hand;\n       Foot foot;\n       Body body;\n       Clothing clothing;\n\n       <span class=\"function\"><span class=\"keyword\">abstract</span> <span class=\"keyword\">void</span> <span class=\"title\">use</span><span class=\"params\">()</span></span>;\n\n\n   }\n\n\n   <span class=\"comment\">/*\n   *工厂选择\n   */</span>\n   <span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FactoryProducer</span> </span>{\n\n       AbstractFactory abstractFactory;\n\n       <span class=\"function\"><span class=\"keyword\">public</span> AbstractFactory <span class=\"title\">getFactory</span><span class=\"params\">(String use)</span> </span>{\n           <span class=\"keyword\">if</span> (use.equalsIgnoreCase(<span class=\"string\">\"F\"</span>)) {\n               abstractFactory = <span class=\"keyword\">new</span> FranceFactory();\n           } <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (use.equalsIgnoreCase(<span class=\"string\">\"J\"</span>)) {\n               abstractFactory = <span class=\"keyword\">new</span> JapanFactory();\n\n           }\n           <span class=\"keyword\">return</span> abstractFactory;\n       }\n   }\n\n   <span class=\"comment\">//生产娃娃</span>\n   <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">GeneratorGirl</span> <span class=\"keyword\">extends</span> <span class=\"title\">AerateGirl</span> </span>{\n       AbstractFactory abstractFactory;\n\n       <span class=\"comment\">//准备要生产充气娃娃啦</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">GeneratorGirl</span><span class=\"params\">(AbstractFactory abstractFactory)</span> </span>{\n           <span class=\"keyword\">this</span>.abstractFactory = abstractFactory;\n       }\n\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">use</span><span class=\"params\">()</span> </span>{\n\n           hand = abstractFactory.getHand();\n           foot = abstractFactory.getFoot();\n           body = abstractFactory.getBody();\n           clothing = abstractFactory.getClothing();\n           System.out.println(body.get() +<span class=\"string\">\"&amp;&amp;&amp;&amp;&amp;\"</span>+ foot.get() +<span class=\"string\">\"&amp;&amp;&amp;&amp;&amp;\"</span>+ hand.get()  +<span class=\"string\">\"&amp;&amp;&amp;&amp;&amp;\"</span>+ clothing.get());\n       }\n\n\n   }\n\n\n   <span class=\"comment\">/*\n    * 进一步实现充气娃娃\n    * 在工厂模式中,我们直接使用 AerateGirl 来返回不同国家的对象\n    * &lt;p&gt;\n    * 她的构成需要不同的组件\n    * 手,脚,头,身体,衣服\n    */</span>\n   <span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">AbstractFactory</span> </span>{\n\n       <span class=\"function\">Hand <span class=\"title\">getHand</span><span class=\"params\">()</span></span>;\n\n       <span class=\"function\">Foot <span class=\"title\">getFoot</span><span class=\"params\">()</span></span>;\n\n       <span class=\"function\">Body <span class=\"title\">getBody</span><span class=\"params\">()</span></span>;\n\n       <span class=\"function\">Clothing <span class=\"title\">getClothing</span><span class=\"params\">()</span></span>;\n\n\n   }\n\n   <span class=\"comment\">/*\n    * 日本工厂生产\n    */</span>\n   <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">JapanFactory</span> <span class=\"keyword\">implements</span> <span class=\"title\">AbstractFactory</span> </span>{\n\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> Hand <span class=\"title\">getHand</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> JapanHand();\n       }\n\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> Foot <span class=\"title\">getFoot</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> JapanFoot();\n       }\n\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> Body <span class=\"title\">getBody</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> JapanBody();\n       }\n\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> Clothing <span class=\"title\">getClothing</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> JapanClothing();\n       }\n   }\n\n   <span class=\"comment\">/*\n    * 法国工厂生产\n    */</span>\n   <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FranceFactory</span> <span class=\"keyword\">implements</span> <span class=\"title\">AbstractFactory</span> </span>{\n\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> Hand <span class=\"title\">getHand</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> FranceHand();\n       }\n\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> Foot <span class=\"title\">getFoot</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> FranceFoot();\n       }\n\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> Body <span class=\"title\">getBody</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> FranceBody();\n       }\n\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> Clothing <span class=\"title\">getClothing</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> FranceClothing();\n       }\n   }\n\n\n   <span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">Hand</span> </span>{\n       <span class=\"function\">String <span class=\"title\">get</span><span class=\"params\">()</span></span>;\n   }\n\n   <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">JapanHand</span> <span class=\"keyword\">implements</span> <span class=\"title\">Hand</span> </span>{\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">get</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"string\">\"日本--组件--手\"</span>;\n       }\n   }\n\n   <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FranceHand</span> <span class=\"keyword\">implements</span> <span class=\"title\">Hand</span> </span>{\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">get</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"string\">\"法国--组件--手\"</span>;\n       }\n   }\n\n\n   <span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">Foot</span> </span>{\n       <span class=\"function\">String <span class=\"title\">get</span><span class=\"params\">()</span></span>;\n   }\n\n\n   <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">JapanFoot</span> <span class=\"keyword\">implements</span> <span class=\"title\">Foot</span> </span>{\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">get</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"string\">\"日本--组件--脚\"</span>;\n       }\n   }\n\n   <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FranceFoot</span> <span class=\"keyword\">implements</span> <span class=\"title\">Foot</span> </span>{\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">get</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"string\">\"法国--组件--脚\"</span>;\n       }\n   }\n\n\n   <span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">Body</span> </span>{\n       <span class=\"function\">String <span class=\"title\">get</span><span class=\"params\">()</span></span>;\n   }\n\n\n   <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">JapanBody</span> <span class=\"keyword\">implements</span> <span class=\"title\">Body</span> </span>{\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">get</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"string\">\"日本--组件--身体\"</span>;\n       }\n   }\n\n   <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FranceBody</span> <span class=\"keyword\">implements</span> <span class=\"title\">Body</span> </span>{\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">get</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"string\">\"法国--组件--身体\"</span>;\n       }\n   }\n\n   <span class=\"class\"><span class=\"keyword\">interface</span> <span class=\"title\">Clothing</span> </span>{\n       <span class=\"function\">String <span class=\"title\">get</span><span class=\"params\">()</span></span>;\n   }\n\n   <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">JapanClothing</span> <span class=\"keyword\">implements</span> <span class=\"title\">Clothing</span> </span>{\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">get</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"string\">\"日本--组件--衣服\"</span>;\n       }\n   }\n\n   <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">FranceClothing</span> <span class=\"keyword\">implements</span> <span class=\"title\">Clothing</span> </span>{\n       <span class=\"meta\">@Override</span>\n       <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">get</span><span class=\"params\">()</span> </span>{\n           <span class=\"keyword\">return</span> <span class=\"string\">\"法国--组件--衣服\"</span>;\n       }\n   }\n }\n</code></pre>\n"},{"title":"适合多层级调转,各种子模块引用返回保留上一次查询记录","date":"2017-02-10T08:25:34.000Z","layout":"cache","slug":"适合多层级调转-各种子模块引用返回保留上一次查询记录","_content":"用于使用web系统中查询\n\n\n \n[源码下载com.pagecache.zip](http://ol5i7ltje.bkt.clouddn.com/data/git/packagecachecom.pagecache.zip)\n\n基于Spring APO 环绕通知实现\n\n1.添加配置文件\naction-servlet.xml 最后添加\n\n<import resource=\"spring-aop-settings.xml\"/>\nspring-aop-settings.xml  \n\n```\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:aop=\"http://www.springframework.org/schema/aop\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd\">\n<aop:aspectj-autoproxy proxy-target-class=\"true\" />\n</beans>\n```\n\n\n2.修改代码(CacheAspectAdvice.java)\n第28行 指定切入点控制层\n\n```\n   @Pointcut(\"execution(* com.*.web.*.*(..))\")\n    public void CacheAspectAdvice() {\n    }\n    ```\n\n3.加入注解\n在自定控制层入口,加入需要记忆和恢复的注解(@FieldCache)\n\n```\n @RequestMapping(value = \"/list.do\")\n public ModelAndView list(HttpServletRequest request,@FieldCache SearchEntity domain){\n            ModelAndView modelAndView=new ModelAndView();\n            modelAndView.setViewName(\"list\");\n            return  modelAndView;\n  }\n```\n\n查询数据模型中,默认只会处理 String,Integer 两种类型\n如果不需要记录属性上方加入 @FieldTransient\n\n```\n//这是个栗了\npublic class SearchEntity extends BaseInput {\n    @FieldTransient\n    private String searchName;\n    public String get/set...\n}\n```\n\n如果其他引用对象里面也要加入记录和恢复(@FieldCache)\n\n```\n//父类同样回记录,回迭代最终Object\npublic class SearchEntity extends BaseInput {\n    @FieldTransient\n    private String searchName;\n    @FieldCache\n    private Page page;\n    public String getSearchName...\n   public String getPage...\n}\n```\n\n说明 \n1.从菜单进入需要加参数,会执行清空已经记录查询条件(pagCatchClean) 如:http://xxx/xxx.do?pagCatchClean\n\n2.默认情况下 post 的请求记录,get 请求清空,如果post 情况下 也好恢复记录不记录 加参数(pageRecover) 如:http://xxx/xxx.do?pageRecover\n\n3.缓存默认使用的本地,如果需要系统是负载(非hash)模式,需要 实现SearchObjectCache.java接口,存放到共享存储中(redis,mongodb....),\nSearchObjectCacheManager.java 缓存管理类实现好后 修改 其SearchObjectCache引用即可\n\nObjectCache.java 第34行开始\n\n```\n\n   /**\n     * 清空缓存标记\n     * 在浏览器地址加入\n     * http://xxx/xxx.do?pagCatchClean\n     **/\n    public static String pagCatchClean = \"pageCacheClean\";\n    public static String pagRecover = \"pageRecover\";\n    Logger logger = Logger.getLogger(ObjectCache.class.getName());\n public void cacheManager(HttpServletRequest request, Object o) {\n        String sessionId = request.getSession().getId();\n        String uri = request.getRequestURI();\n        if (null == uri || uri.equals(\"\")) {\n            return;\n        }\n        if (uri.indexOf(\"?\") > 0) {\n            uri = uri.substring(0, uri.indexOf(\"?\"));\n        }\n        String cacheKey = uri.concat(sessionId);\n        boolean isClean = request.getParameter(pagCatchClean) == null ? false : true;\n        //空清空缓存\n        if (isClean) {\n            SearainbowCacheManager.del(cacheKey);\n            logger.info(\"清空缓存 key==> \" + cacheKey);\n            return;\n        }\n        //post 查询 存储查询条件\n         if(request.getMethod().toUpperCase().equals(\"POST\") &&  null == request.getParameter(pagRecover)){\n             cache(sessionId, uri, isClean, o);\n         }else {\n             //get 或是其他 还原查询条件\n             recover(sessionId, uri, o);\n         }\n    }\n```\n ","source":"_posts/适合多层级调转-各种子模块引用返回保留上一次查询记录.md","raw":"---\ntitle: '适合多层级调转,各种子模块引用返回保留上一次查询记录'\ndate: 2017-02-10 16:25:34\ntags: java\nlayout: cache\nslug: pagecache\n---\n用于使用web系统中查询\n\n\n \n[源码下载com.pagecache.zip](http://ol5i7ltje.bkt.clouddn.com/data/git/packagecachecom.pagecache.zip)\n\n基于Spring APO 环绕通知实现\n\n1.添加配置文件\naction-servlet.xml 最后添加\n\n<import resource=\"spring-aop-settings.xml\"/>\nspring-aop-settings.xml  \n\n```\n<beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:aop=\"http://www.springframework.org/schema/aop\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd\">\n<aop:aspectj-autoproxy proxy-target-class=\"true\" />\n</beans>\n```\n\n\n2.修改代码(CacheAspectAdvice.java)\n第28行 指定切入点控制层\n\n```\n   @Pointcut(\"execution(* com.*.web.*.*(..))\")\n    public void CacheAspectAdvice() {\n    }\n    ```\n\n3.加入注解\n在自定控制层入口,加入需要记忆和恢复的注解(@FieldCache)\n\n```\n @RequestMapping(value = \"/list.do\")\n public ModelAndView list(HttpServletRequest request,@FieldCache SearchEntity domain){\n            ModelAndView modelAndView=new ModelAndView();\n            modelAndView.setViewName(\"list\");\n            return  modelAndView;\n  }\n```\n\n查询数据模型中,默认只会处理 String,Integer 两种类型\n如果不需要记录属性上方加入 @FieldTransient\n\n```\n//这是个栗了\npublic class SearchEntity extends BaseInput {\n    @FieldTransient\n    private String searchName;\n    public String get/set...\n}\n```\n\n如果其他引用对象里面也要加入记录和恢复(@FieldCache)\n\n```\n//父类同样回记录,回迭代最终Object\npublic class SearchEntity extends BaseInput {\n    @FieldTransient\n    private String searchName;\n    @FieldCache\n    private Page page;\n    public String getSearchName...\n   public String getPage...\n}\n```\n\n说明 \n1.从菜单进入需要加参数,会执行清空已经记录查询条件(pagCatchClean) 如:http://xxx/xxx.do?pagCatchClean\n\n2.默认情况下 post 的请求记录,get 请求清空,如果post 情况下 也好恢复记录不记录 加参数(pageRecover) 如:http://xxx/xxx.do?pageRecover\n\n3.缓存默认使用的本地,如果需要系统是负载(非hash)模式,需要 实现SearchObjectCache.java接口,存放到共享存储中(redis,mongodb....),\nSearchObjectCacheManager.java 缓存管理类实现好后 修改 其SearchObjectCache引用即可\n\nObjectCache.java 第34行开始\n\n```\n\n   /**\n     * 清空缓存标记\n     * 在浏览器地址加入\n     * http://xxx/xxx.do?pagCatchClean\n     **/\n    public static String pagCatchClean = \"pageCacheClean\";\n    public static String pagRecover = \"pageRecover\";\n    Logger logger = Logger.getLogger(ObjectCache.class.getName());\n public void cacheManager(HttpServletRequest request, Object o) {\n        String sessionId = request.getSession().getId();\n        String uri = request.getRequestURI();\n        if (null == uri || uri.equals(\"\")) {\n            return;\n        }\n        if (uri.indexOf(\"?\") > 0) {\n            uri = uri.substring(0, uri.indexOf(\"?\"));\n        }\n        String cacheKey = uri.concat(sessionId);\n        boolean isClean = request.getParameter(pagCatchClean) == null ? false : true;\n        //空清空缓存\n        if (isClean) {\n            SearainbowCacheManager.del(cacheKey);\n            logger.info(\"清空缓存 key==> \" + cacheKey);\n            return;\n        }\n        //post 查询 存储查询条件\n         if(request.getMethod().toUpperCase().equals(\"POST\") &&  null == request.getParameter(pagRecover)){\n             cache(sessionId, uri, isClean, o);\n         }else {\n             //get 或是其他 还原查询条件\n             recover(sessionId, uri, o);\n         }\n    }\n```\n ","published":1,"updated":"2017-02-13T06:05:44.000Z","comments":1,"photos":[],"link":"","_id":"cizdh8sxc00055n5rqzc49wkh","content":"<p>用于使用web系统中查询</p>\n<p><a href=\"http://ol5i7ltje.bkt.clouddn.com/data/git/packagecachecom.pagecache.zip\" target=\"_blank\" rel=\"external\">源码下载com.pagecache.zip</a></p>\n<p>基于Spring APO 环绕通知实现</p>\n<p>1.添加配置文件<br>action-servlet.xml 最后添加</p>\n<p><import resource=\"spring-aop-settings.xml\"><br>spring-aop-settings.xml  </import></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</div><div class=\"line\">xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;</div><div class=\"line\">xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</div><div class=\"line\">        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt;</div><div class=\"line\">&lt;aop:aspectj-autoproxy proxy-target-class=&quot;true&quot; /&gt;</div><div class=\"line\">&lt;/beans&gt;</div></pre></td></tr></table></figure>\n<p>2.修改代码(CacheAspectAdvice.java)<br>第28行 指定切入点控制层</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">@Pointcut(&quot;execution(* com.*.web.*.*(..))&quot;)</div><div class=\"line\"> public void CacheAspectAdvice() &#123;</div><div class=\"line\"> &#125;</div></pre></td></tr></table></figure>\n<p>3.加入注解<br>在自定控制层入口,加入需要记忆和恢复的注解(@FieldCache)</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">@RequestMapping(value = &quot;/list.do&quot;)</div><div class=\"line\">public ModelAndView list(HttpServletRequest request,@FieldCache SearchEntity domain)&#123;</div><div class=\"line\">           ModelAndView modelAndView=new ModelAndView();</div><div class=\"line\">           modelAndView.setViewName(&quot;list&quot;);</div><div class=\"line\">           return  modelAndView;</div><div class=\"line\"> &#125;</div></pre></td></tr></table></figure>\n<p>查询数据模型中,默认只会处理 String,Integer 两种类型<br>如果不需要记录属性上方加入 @FieldTransient</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">//这是个栗了</div><div class=\"line\">public class SearchEntity extends BaseInput &#123;</div><div class=\"line\">    @FieldTransient</div><div class=\"line\">    private String searchName;</div><div class=\"line\">    public String get/set...</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>如果其他引用对象里面也要加入记录和恢复(@FieldCache)</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">//父类同样回记录,回迭代最终Object</div><div class=\"line\">public class SearchEntity extends BaseInput &#123;</div><div class=\"line\">    @FieldTransient</div><div class=\"line\">    private String searchName;</div><div class=\"line\">    @FieldCache</div><div class=\"line\">    private Page page;</div><div class=\"line\">    public String getSearchName...</div><div class=\"line\">   public String getPage...</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>说明<br>1.从菜单进入需要加参数,会执行清空已经记录查询条件(pagCatchClean) 如:<a href=\"http://xxx/xxx.do?pagCatchClean\" target=\"_blank\" rel=\"external\">http://xxx/xxx.do?pagCatchClean</a></p>\n<p>2.默认情况下 post 的请求记录,get 请求清空,如果post 情况下 也好恢复记录不记录 加参数(pageRecover) 如:<a href=\"http://xxx/xxx.do?pageRecover\" target=\"_blank\" rel=\"external\">http://xxx/xxx.do?pageRecover</a></p>\n<p>3.缓存默认使用的本地,如果需要系统是负载(非hash)模式,需要 实现SearchObjectCache.java接口,存放到共享存储中(redis,mongodb….),<br>SearchObjectCacheManager.java 缓存管理类实现好后 修改 其SearchObjectCache引用即可</p>\n<p>ObjectCache.java 第34行开始</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">  /**</div><div class=\"line\">    * 清空缓存标记</div><div class=\"line\">    * 在浏览器地址加入</div><div class=\"line\">    * http://xxx/xxx.do?pagCatchClean</div><div class=\"line\">    **/</div><div class=\"line\">   public static String pagCatchClean = &quot;pageCacheClean&quot;;</div><div class=\"line\">   public static String pagRecover = &quot;pageRecover&quot;;</div><div class=\"line\">   Logger logger = Logger.getLogger(ObjectCache.class.getName());</div><div class=\"line\">public void cacheManager(HttpServletRequest request, Object o) &#123;</div><div class=\"line\">       String sessionId = request.getSession().getId();</div><div class=\"line\">       String uri = request.getRequestURI();</div><div class=\"line\">       if (null == uri || uri.equals(&quot;&quot;)) &#123;</div><div class=\"line\">           return;</div><div class=\"line\">       &#125;</div><div class=\"line\">       if (uri.indexOf(&quot;?&quot;) &gt; 0) &#123;</div><div class=\"line\">           uri = uri.substring(0, uri.indexOf(&quot;?&quot;));</div><div class=\"line\">       &#125;</div><div class=\"line\">       String cacheKey = uri.concat(sessionId);</div><div class=\"line\">       boolean isClean = request.getParameter(pagCatchClean) == null ? false : true;</div><div class=\"line\">       //空清空缓存</div><div class=\"line\">       if (isClean) &#123;</div><div class=\"line\">           SearainbowCacheManager.del(cacheKey);</div><div class=\"line\">           logger.info(&quot;清空缓存 key==&gt; &quot; + cacheKey);</div><div class=\"line\">           return;</div><div class=\"line\">       &#125;</div><div class=\"line\">       //post 查询 存储查询条件</div><div class=\"line\">        if(request.getMethod().toUpperCase().equals(&quot;POST&quot;) &amp;&amp;  null == request.getParameter(pagRecover))&#123;</div><div class=\"line\">            cache(sessionId, uri, isClean, o);</div><div class=\"line\">        &#125;else &#123;</div><div class=\"line\">            //get 或是其他 还原查询条件</div><div class=\"line\">            recover(sessionId, uri, o);</div><div class=\"line\">        &#125;</div><div class=\"line\">   &#125;</div></pre></td></tr></table></figure>\n","excerpt":"","more":"<p>用于使用web系统中查询</p>\n<p><a href=\"http://ol5i7ltje.bkt.clouddn.com/data/git/packagecachecom.pagecache.zip\">源码下载com.pagecache.zip</a></p>\n<p>基于Spring APO 环绕通知实现</p>\n<p>1.添加配置文件<br>action-servlet.xml 最后添加</p>\n<p><import resource=\"spring-aop-settings.xml\"/><br>spring-aop-settings.xml  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</div><div class=\"line\">xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;</div><div class=\"line\">xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</div><div class=\"line\">        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt;</div><div class=\"line\">&lt;aop:aspectj-autoproxy proxy-target-class=&quot;true&quot; /&gt;</div><div class=\"line\">&lt;/beans&gt;</div></pre></td></tr></table></figure>\n<p>2.修改代码(CacheAspectAdvice.java)<br>第28行 指定切入点控制层</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">@Pointcut(&quot;execution(* com.*.web.*.*(..))&quot;)</div><div class=\"line\"> public void CacheAspectAdvice() &#123;</div><div class=\"line\"> &#125;</div></pre></td></tr></table></figure>\n<p>3.加入注解<br>在自定控制层入口,加入需要记忆和恢复的注解(@FieldCache)</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">@RequestMapping(value = &quot;/list.do&quot;)</div><div class=\"line\">public ModelAndView list(HttpServletRequest request,@FieldCache SearchEntity domain)&#123;</div><div class=\"line\">           ModelAndView modelAndView=new ModelAndView();</div><div class=\"line\">           modelAndView.setViewName(&quot;list&quot;);</div><div class=\"line\">           return  modelAndView;</div><div class=\"line\"> &#125;</div></pre></td></tr></table></figure>\n<p>查询数据模型中,默认只会处理 String,Integer 两种类型<br>如果不需要记录属性上方加入 @FieldTransient</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">//这是个栗了</div><div class=\"line\">public class SearchEntity extends BaseInput &#123;</div><div class=\"line\">    @FieldTransient</div><div class=\"line\">    private String searchName;</div><div class=\"line\">    public String get/set...</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>如果其他引用对象里面也要加入记录和恢复(@FieldCache)</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">//父类同样回记录,回迭代最终Object</div><div class=\"line\">public class SearchEntity extends BaseInput &#123;</div><div class=\"line\">    @FieldTransient</div><div class=\"line\">    private String searchName;</div><div class=\"line\">    @FieldCache</div><div class=\"line\">    private Page page;</div><div class=\"line\">    public String getSearchName...</div><div class=\"line\">   public String getPage...</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>说明<br>1.从菜单进入需要加参数,会执行清空已经记录查询条件(pagCatchClean) 如:<a href=\"http://xxx/xxx.do?pagCatchClean\">http://xxx/xxx.do?pagCatchClean</a></p>\n<p>2.默认情况下 post 的请求记录,get 请求清空,如果post 情况下 也好恢复记录不记录 加参数(pageRecover) 如:<a href=\"http://xxx/xxx.do?pageRecover\">http://xxx/xxx.do?pageRecover</a></p>\n<p>3.缓存默认使用的本地,如果需要系统是负载(非hash)模式,需要 实现SearchObjectCache.java接口,存放到共享存储中(redis,mongodb….),<br>SearchObjectCacheManager.java 缓存管理类实现好后 修改 其SearchObjectCache引用即可</p>\n<p>ObjectCache.java 第34行开始</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">  /**</div><div class=\"line\">    * 清空缓存标记</div><div class=\"line\">    * 在浏览器地址加入</div><div class=\"line\">    * http://xxx/xxx.do?pagCatchClean</div><div class=\"line\">    **/</div><div class=\"line\">   public static String pagCatchClean = &quot;pageCacheClean&quot;;</div><div class=\"line\">   public static String pagRecover = &quot;pageRecover&quot;;</div><div class=\"line\">   Logger logger = Logger.getLogger(ObjectCache.class.getName());</div><div class=\"line\">public void cacheManager(HttpServletRequest request, Object o) &#123;</div><div class=\"line\">       String sessionId = request.getSession().getId();</div><div class=\"line\">       String uri = request.getRequestURI();</div><div class=\"line\">       if (null == uri || uri.equals(&quot;&quot;)) &#123;</div><div class=\"line\">           return;</div><div class=\"line\">       &#125;</div><div class=\"line\">       if (uri.indexOf(&quot;?&quot;) &gt; 0) &#123;</div><div class=\"line\">           uri = uri.substring(0, uri.indexOf(&quot;?&quot;));</div><div class=\"line\">       &#125;</div><div class=\"line\">       String cacheKey = uri.concat(sessionId);</div><div class=\"line\">       boolean isClean = request.getParameter(pagCatchClean) == null ? false : true;</div><div class=\"line\">       //空清空缓存</div><div class=\"line\">       if (isClean) &#123;</div><div class=\"line\">           SearainbowCacheManager.del(cacheKey);</div><div class=\"line\">           logger.info(&quot;清空缓存 key==&gt; &quot; + cacheKey);</div><div class=\"line\">           return;</div><div class=\"line\">       &#125;</div><div class=\"line\">       //post 查询 存储查询条件</div><div class=\"line\">        if(request.getMethod().toUpperCase().equals(&quot;POST&quot;) &amp;&amp;  null == request.getParameter(pagRecover))&#123;</div><div class=\"line\">            cache(sessionId, uri, isClean, o);</div><div class=\"line\">        &#125;else &#123;</div><div class=\"line\">            //get 或是其他 还原查询条件</div><div class=\"line\">            recover(sessionId, uri, o);</div><div class=\"line\">        &#125;</div><div class=\"line\">   &#125;</div></pre></td></tr></table></figure>\n"}],"PostAsset":[],"PostCategory":[],"PostTag":[{"post_id":"cizdh8sx100005n5rirl7q9qn","tag_id":"cizdh8sx800025n5rxhm3teyp","_id":"cizdh8sxe00075n5rbkfpuvwh"},{"post_id":"cizdh8sxc00055n5rqzc49wkh","tag_id":"cizdh8sx800025n5rxhm3teyp","_id":"cizdh8sxf00085n5r4xho0q9b"},{"post_id":"cizdh8sx500015n5r7qb54224","tag_id":"cizdh8sxe00065n5r6p4azo0y","_id":"cizdh8sxf000a5n5re7gj06c7"},{"post_id":"cizdh8sxa00035n5rzc8dsaq4","tag_id":"cizdh8sxf00095n5rew44rc4m","_id":"cizdh8sxg000c5n5r8hb36hhf"},{"post_id":"cizdh8sxa00045n5rvsi7ohfv","tag_id":"cizdh8sxf00095n5rew44rc4m","_id":"cizdh8sxh000d5n5r30qtfrgc"}],"Tag":[{"name":"java","_id":"cizdh8sx800025n5rxhm3teyp"},{"name":"linux","_id":"cizdh8sxe00065n5r6p4azo0y"},{"name":"设计模式","_id":"cizdh8sxf00095n5rew44rc4m"}]}}